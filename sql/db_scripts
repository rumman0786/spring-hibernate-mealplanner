CREATE TABLE auth_user (
  id int(11) NOT NULL AUTO_INCREMENT,
  username varchar(45) NOT NULL,
  first_name varchar(45) DEFAULT NULL,
  last_name varchar(45) DEFAULT NULL,
  email varchar(45) DEFAULT NULL,
  password varchar(100) NOT NULL,
  is_active tinyint(4) DEFAULT '1',
  is_superuser tinyint(4) DEFAULT '0',
  last_login varchar(45) DEFAULT NULL,
  PRIMARY KEY (id)
);

CREATE TABLE dish (
  id int(11) NOT NULL AUTO_INCREMENT,
  name varchar(45) NOT NULL,
  calories varchar(45) DEFAULT NULL,
  PRIMARY KEY (id)
);

CREATE TABLE menu_type (
  id int(11) NOT NULL AUTO_INCREMENT,
  category varchar(45) NOT NULL,
  PRIMARY KEY (id)
);

INSERT INTO menu_type
(category)
VALUES
('BREAKFAST');


INSERT INTO menu_type
(category)
VALUES
('LUNCH');


INSERT INTO menu_type
(category)
VALUES
('DINNER');

CREATE TABLE final_project.meal (
  id int(11) NOT NULL AUTO_INCREMENT,
  name varchar(45) NOT NULL,
  day varchar(45) NOT NULL,
  menu_type_id int(11) NOT NULL,
  PRIMARY KEY (id),
  KEY menu_type_id (menu_type_id),
  CONSTRAINT meal_ibfk_1 FOREIGN KEY (menu_type_id) REFERENCES menu_type (id) ON DELETE CASCADE
);

CREATE TABLE final_project.meal_dish_map (
  id int(11) NOT NULL AUTO_INCREMENT,
  meal_id int(11) DEFAULT NULL,
  dish_id int(11) DEFAULT NULL,
  PRIMARY KEY (id),
  KEY meal_id (meal_id),
  KEY dish_id (dish_id),
  CONSTRAINT meal_dish_map_ibfk_1 FOREIGN KEY (meal_id) REFERENCES meal (id) ON DELETE CASCADE,
  CONSTRAINT meal_dish_map_ibfk_2 FOREIGN KEY (dish_id) REFERENCES dish (id) ON DELETE CASCADE
);